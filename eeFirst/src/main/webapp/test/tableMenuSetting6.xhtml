<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	xmlns:f="http://xmlns.jcp.org/jsf/core" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:o="http://omnifaces.org/ui"  xmlns:of="http://omnifaces.org/functions">


  <h:form id="formMenuSetting">
  	<p:growl id="msgs" showDetail="true"/>
  	<p:panel>
  		<p:commandButton value="#{msg.save}" action="#{userMenuBean.save}"></p:commandButton>
  	</p:panel>
  	
    <p:dataTable id="tableMegaMenu" value="#{userMenuBean.loginBean.loginUser.userMenuList}" var="_row" widgetVar="dtMegaMenu"
      emptyMessage="No History Data found with given criteria. Change the Dates"
      rowKey="#{_row}" rowIndexVar="rowIndex"
      selectionMode="single"
      sortMode="multiple" 
      editable="true" editMode="cell"
      resizableColumns="true" resizeMode="expand"
      scrollable="false" scrollHeight="500"
	  paginatorAlwaysVisible="true"
      paginator="true" paginatorPosition="bottom" rows="50"
      paginatorTemplate="{FirstPageLink} {PreviousPageLink} {JumpToPageDropdown} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
      rowsPerPageTemplate="10,15,25,50" 
      style="margin: 0.5em;" styleClass="takion">
      	<!-- <p:ajax event="cellEdit" listener="#{menuBean.onEdit}" update="@(.ui-datatable)" />
      	<p:ajax event="contextMenu" listener="#{menuBean.onSelect}" /> -->
      	
     	
       <p:column headerText="#{msg.menuGroup}" sortBy="#{_row.menuGroup}" filterBy="#{_row.menuGroup}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.menuGroup}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuGroupInput" value="#{_row.menuGroup}" style="width:100%"/></f:facet>
           </p:cellEditor>
       </p:column>
       
       <p:column headerText="#{msg.menuColumn}" sortBy="#{_row.menuColumn}" filterBy="#{_row.menuColumn}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.menuColumn}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuColumnInput" value="#{_row.menuColumn}" style="width:100%"/></f:facet>
           </p:cellEditor>
       </p:column>
       
       <p:column headerText="#{msg.menuName}" sortBy="#{_row.menuName}" filterBy="#{_row.menuName}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.menuName}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuNameInput" value="#{_row.menuName}" style="width:100%"/></f:facet>
           </p:cellEditor>
       </p:column>
       
       <!--  <p:column headerText="#{msg.menuStyle}" sortBy="#{_row.menuStyle}" filterBy="#{_row.menuStyle}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.menuStyle}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuStyleInput" value="#{_row.menuStyle}" style="width:100%"/></f:facet>
           </p:cellEditor>
       </p:column> -->
       
       <p:column headerText="#{msg.menuIcon}" sortBy="#{_row.iconName}" filterBy="#{_row.iconName}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.iconName}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuIconInput" value="#{_row.iconName}" style="width:100%"/></f:facet>
           </p:cellEditor>
       </p:column>
       
       <!-- <p:column headerText="#{msg.menuId}" sortBy="#{_row.menu.menuId}" filterBy="#{_row.menu.menuId}" filterMatchMode="contains"  filterStyle="width:100%" >
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_row.menu.menuId}" /></f:facet>
               <f:facet name="input"><p:inputText id="menuIdInput" value="#{_row.menu.menuId}" style="width:100%"/></f:facet>
               <f:facet name="input">
	               <h:selectOneMenu value="#{_row.menu.menuId}" style="width:100%" >
	                  <f:selectItems value="#{menuMstBean.menuList}" var="_menu" itemLabel="#{_menu.menuId}" itemValue="#{_menu.menuId}" />
	               </h:selectOneMenu>
                </f:facet>   
           </p:cellEditor>
       </p:column>
       
       <p:column headerText="#{msg.menuUrl}" sortBy="#{_row.menu.menuUrl}" filterBy="#{_row.menu.menuUrl}" filterMatchMode="contains"  filterStyle="width:100%" >
       		<h:outputText value="#{_row.menu.menuUrl}" />
       </p:column> -->
    </p:dataTable> 
    <p:contextMenu id="ctxMenuTable" for="tableMegaMenu">
    	<p:menuitem value="#{msg.addRow}" action="#{userMenuBean.addRow}"  update="@all"/>
    	<p:menuitem value="#{msg.deleteRow}" action="#{userMenuBean.deleteRow}"  update="@all"/>
    </p:contextMenu>
   
  	
  </h:form>
</ui:composition>