<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
	xmlns:f="http://xmlns.jcp.org/jsf/core" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:o="http://omnifaces.org/ui" xmlns:of="http://omnifaces.org/functions"
	template="/templates/templateMain.xhtml">
	<f:metadata>
		<f:viewAction  action="#{layoutBean.initLayout('v960')}"></f:viewAction>/>
		<o:enableRestorableView/>
	</f:metadata>

	<ui:define name="layoutLeft_tab">
		<ui:include src="/test/treeObjectNavigation.xhtml" />
	</ui:define>
	<ui:define name="layoutCenter" >
		
		<p:tabView>
			<p:tab title="Original Table">
				<ui:include src="/test/tableLazyNavigatable.xhtml" />
			</p:tab>
			<p:tab title="Pivot Table">
				<p:layout style="width:100%;height:100%">
				<h:form id="formPivotSelector">
					<p:layoutUnit id="pivotRightLayout" position="east" resizable="true" collapsible="true" size="300" gutter="4" style="oveflow:visible;"  styleClass="takion">
						<!-- <p:selectManyCheckbox id="grid" value="#{pivotTableBean.selColList}" layout="grid" columns="2">
        					<f:selectItems value="#{pivotTableBean.colList}" var="_col" itemLabel="#{_col}" itemValue="#{_col}" />
    					</p:selectManyCheckbox>
    					<p:separator/> -->
    					<p:selectManyCheckbox id="grid2" value="#{pivotTableBean.selectedColumnList}" layout="grid" columns="1" converter="omnifaces.SelectItemsConverter">
        					<f:selectItems id="items1" value="#{pivotTableBean.columnList}" var="_col" itemLabel="#{_col.columnName}" itemValue="#{_col}" />
    					</p:selectManyCheckbox>
    					<p:draggable for="items1"/> 
    					<p:contextMenu id="ctxSelectManyCheck" for="grid2">
    						<p:menuitem id="menuItemMoveToReport" value="#{msg.addToReportArea}" action="#{pivotTableBean.addToReport}" update="@(.ui-datatable)"/>
    						<p:menuitem id="menuItemMoveToColumn" value="#{msg.addToColumnArea}" action="#{pivotTableBean.addToColumn}" update="@(.ui-datatable)"/>
    						<p:menuitem id="menuItemMoveToRow" value="#{msg.addToRowArea}" action="#{pivotTableBean.addToRow}" update="@(.ui-datatable)"/>
    						<p:menuitem id="menuItemMoveToContent" value="#{msg.addToContentArea}" action="#{pivotTableBean.addToContent}" update="@(.ui-datatable)" />
    					</p:contextMenu>

    					<!-- <h:selectOneMenu id="grid3" value="#{pivotTableBean.selectedColumn}" converter="omnifaces.SelectItemsConverter">
        					<f:selectItems value="#{pivotTableBean.columnList}" var="_col" itemLabel="#{_col.columnName}" itemValue="#{_col}" />
    					</h:selectOneMenu> -->
					</p:layoutUnit>
				</h:form>
					<p:layoutUnit position="center">
						<ui:include src="/test/tableQueryResult.xhtml" />
					</p:layoutUnit>
				</p:layout>
			</p:tab>
		</p:tabView>
	</ui:define>
	
	<!-- <ui:define name="layoutRight">
		<ui:include src="/test/queryEditor.xhtml" />
	</ui:define> -->
	<!-- <ui:define name="innnerLayoutBottom">
		<ui:include src="/test/queryEditor.xhtml" />
	</ui:define> -->
</ui:composition>